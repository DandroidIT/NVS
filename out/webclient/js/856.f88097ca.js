"use strict";(self["webpackChunknvs_c"]=self["webpackChunknvs_c"]||[]).push([[856],{8707:(e,s,a)=>{a.d(s,{Z:()=>r});var t=a(2775),n=a(1585);class o{getCams(){return new Promise((e=>{const s=s=>{e(s)};n.Z.bindAndsend({name:t.N.Cam_List,cb:s})}))}_objMove(e,s,a=100,n="0"){if("STOP"===s)return JSON.stringify({type:t.N.Cam_Controll,payload:{tagcam:e,cmd:"move_stop"}});const o={tagcam:e,speed:{x:"",y:"",z:""},timeout:a,cmd:"move",preset:n},r=o;return"UP"===s?r.speed={x:"0",y:"1.0",z:"0"}:"UPLEFT"===s?r.speed={x:"-1.0",y:"1.0",z:"0"}:"UPRIGHT"===s?r.speed={x:"1.0",y:"1.0",z:"0"}:"DOWN"===s?r.speed={x:"0",y:"-1.0",z:"0"}:"DOWNLEFT"===s?r.speed={x:"-1.0",y:"-1.0",z:"0"}:"DOWNRIGHT"===s?r.speed={x:"1.0",y:"-1.0",z:"0"}:"LEFT"===s?r.speed={x:"-1.0",y:"0",z:"0"}:"RIGHT"===s?r.speed={x:"1.0",y:"0",z:"0"}:"ZOOMIN"===s?r.speed={x:"0",y:"0",z:"1.0"}:"ZOOMOUT"===s?r.speed={x:"0",y:"0",z:"-1.0"}:"preset"!==s&&"save_preset"!==s||(r.speed={x:"1",y:"1",z:"1"},r.cmd=s),JSON.stringify({type:t.N.Cam_Controll,payload:r})}move(e,s,a="1",o=100){return new Promise((r=>{const l=e=>{r(e)};n.Z.bindAndsend({name:t.N.Cam_Controll,cb:l},{name:t.N.Cam_Controll,msg:this._objMove(e,s,o,a)})}))}screenshot(e){return new Promise((s=>{const a=e=>{s(e)},o=JSON.stringify({payload:{tagcam:e}});n.Z.bindAndsend({name:t.N.Cam_Screenshot,cb:a},{msg:o})}))}setOptionCam(e,s,a,o=!1){return new Promise((r=>{const l=JSON.stringify({payload:{tagcam:e,option:s,data:a,checkonly:o}});n.Z.bindAndsend({name:t.N.Cam_Setoption,cb:e=>{r(e)}},{msg:l})}))}probeCams(){return new Promise((e=>{const s=s=>{e(s)};n.Z.bindAndsend({name:t.N.radarCams,cb:s})}))}saveProbeCam(e){return new Promise((s=>{const a=JSON.stringify({payload:{cam:e}}),o=e=>{s(e)};n.Z.bindAndsend({name:t.N.saveRadarCam,cb:o},{msg:a})}))}}const r=new o},2391:(e,s,a)=>{a.d(s,{_:()=>o,K:()=>r});var t=a(4434),n=a(5616);const o=(e,s=1500)=>{e&&t.Z.create({icon:"mdi-information-variant",progress:!0,message:e,position:"top",timeout:s,textColor:"white",color:"",actions:[{icon:"close",color:"white"}]})},r=(e,s,a)=>{const t=new Date(e,s-1,a);return n.ZP.daysInMonth(t)}},2856:(e,s,a)=>{a.r(s),a.d(s,{default:()=>D});var t=a(3673),n=a(2323);const o={class:"row items-start q-gutter-md"},r={class:"rounded-borders bg-primary text-white flex flex-top"},l={class:"row items-center"},i={class:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},d=(0,t.Uk)("Save");function c(e,s,a,c,m,u){const p=(0,t.up)("q-spinner-puff"),w=(0,t.up)("q-dialog"),g=(0,t.up)("q-icon"),f=(0,t.up)("q-card-section"),v=(0,t.up)("q-card"),b=(0,t.up)("q-btn"),y=(0,t.up)("q-responsive"),C=(0,t.up)("q-step"),x=(0,t.up)("q-item-section"),q=(0,t.up)("q-item-label"),_=(0,t.up)("q-input"),h=(0,t.up)("q-expansion-item"),k=(0,t.up)("q-list"),Z=(0,t.up)("q-stepper-navigation"),N=(0,t.up)("q-stepper"),W=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(W,{class:"bg-primary q-pa-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{modelValue:e.state.isawait,"onUpdate:modelValue":s[1]||(s[1]=s=>e.state.isawait=s),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{color:"red",size:"20em"})])),_:1},8,["modelValue"]),e.state.success?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(v,{key:0,dark:""},{default:(0,t.w5)((()=>[(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,{name:"mdi-alert",color:"red",size:"34px"})])),_:1}),(0,t.Wm)(f,{class:"q-pt-none"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.state.msgError),1)])),_:1})])),_:1})),(0,t.Wm)(N,{modelValue:e.stepN,"onUpdate:modelValue":s[4]||(s[4]=s=>e.stepN=s),ref:"stepper",dark:"",class:"bg-grey-10","active-color":"deep-orange","done-color":"orange",animated:""},{navigation:(0,t.w5)((()=>[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[e.stepN>1?((0,t.wg)(),(0,t.j4)(b,{key:0,flat:"",color:"deep-orange",onClick:s[3]||(s[3]=s=>e.navTabs("prev")),label:"Back",class:"q-ml-sm"})):(0,t.kq)("",!0)])),_:1})])),default:(0,t.w5)((()=>[(0,t.Wm)(C,{name:1,title:"Start Radar",caption:1===e.stepN?"push to start":"",icon:"settings",done:e.stepN>1},{default:(0,t.w5)((()=>[(0,t.Wm)("div",o,[(0,t.Wm)(y,{ratio:16/9,class:"col"},{default:(0,t.w5)((()=>[(0,t.Wm)("div",r,[(0,t.Wm)(b,{icon:"mdi-radar",size:"55px",color:"orange",flat:"",padding:"xs",class:"full-width text-capitalize",onMousedown:s[2]||(s[2]=s=>e.startRadar())})])])),_:1})])])),_:1},8,["caption","done"]),(0,t.Wm)(C,{name:2,title:"View Result",caption:e.probeCams.length?`Cams n.${e.probeCams.length}`:"No cams",icon:"mdi-format-list-checks",done:e.stepN>2},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{dark:"",padding:"",bordered:"",class:"rounded-borders",style:{}},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(e.probeCams,((s,a)=>((0,t.wg)(),(0,t.j4)(h,{group:"somegroup",key:a,disable:s.exist},{header:(0,t.w5)((()=>[(0,t.Wm)(x,{side:"",class:"q-pa-lg q-mr-none",style:{"background-color":"#464646"}},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{name:"mdi-cctv",color:"orange",size:"34px"})])),_:1}),(0,t.Wm)(x,{class:"q-pa-md q-ml-none text-white"},{default:(0,t.w5)((()=>[(0,t.Wm)(q,{class:"text-white text-weight-bolder"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(s.name),1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(x,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)("div",l,[s.exist?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(g,{key:0,name:"mdi-new-box",color:"red",size:"34px"}))])])),_:2},1024)])),default:(0,t.w5)((()=>[s.exist?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(v,{key:0,class:"bg-grey-9"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t.Wm)("div",i,[(0,t.Wm)(_,{class:"",dark:"",filled:"",modelValue:s.name,"onUpdate:modelValue":e=>s.name=e,label:"Cam name","lazy-rules":"",rules:[e=>!!e||"Field is required"]},null,8,["modelValue","onUpdate:modelValue","rules"]),(0,t.Wm)(_,{class:"",dark:"",filled:"",modelValue:s.username,"onUpdate:modelValue":e=>s.username=e,label:"Username","lazy-rules":"",rules:[e=>!!e||"Field is required"]},null,8,["modelValue","onUpdate:modelValue","rules"]),(0,t.Wm)(_,{class:"",dark:"",filled:"",modelValue:s.password,"onUpdate:modelValue":e=>s.password=e,label:"Password","lazy-rules":"",rules:[e=>!!e||"Field is required"]},null,8,["modelValue","onUpdate:modelValue","rules"]),(0,t.Wm)(b,{onClick:a=>e.clickSave(s)},{default:(0,t.w5)((()=>[d])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024))])),_:2},1032,["disable"])))),128))])),_:1})])),_:1},8,["caption","done"])])),_:1},8,["modelValue"])])),_:1})}var m=a(1959),u=a(8707),p=function(e,s,a,t){function n(e){return e instanceof a?e:new a((function(s){s(e)}))}return new(a||(a=Promise))((function(a,o){function r(e){try{i(t.next(e))}catch(s){o(s)}}function l(e){try{i(t["throw"](e))}catch(s){o(s)}}function i(e){e.done?a(e.value):n(e.value).then(r,l)}i((t=t.apply(e,s||[])).next())}))};const w=(0,m.qj)({success:!0,msgError:"",msgSuccess:""}),g=(0,m.qj)([]),f=()=>{const e=()=>p(void 0,void 0,void 0,(function*(){g.splice(0,g.length);const e=yield u.Z.probeCams();!0===e.inError?w.msgError=e.msg:e.dataResult.map((e=>{g.push(e)})),w.success=!e.inError})),s=e=>p(void 0,void 0,void 0,(function*(){if(!e.name||!e.username||!e.password)return w.msgError="All fields is required",void(w.success=!1);const s=yield u.Z.saveProbeCam(e);!1===s.inError?g.map((s=>{s.urn===e.urn&&(e.exist=!0),w.success=!0})):(w.msgError=s.msg,w.success=!1)}));return{state:w,probeCams:g,radarProbeCams:e,saveProbeCam:s}},v=f;var b=a(2391),y=function(e,s,a,t){function n(e){return e instanceof a?e:new a((function(s){s(e)}))}return new(a||(a=Promise))((function(a,o){function r(e){try{i(t.next(e))}catch(s){o(s)}}function l(e){try{i(t["throw"](e))}catch(s){o(s)}}function i(e){e.done?a(e.value):n(e.value).then(r,l)}i((t=t.apply(e,s||[])).next())}))};const{state:C,probeCams:x,radarProbeCams:q,saveProbeCam:_}=v(),h=()=>{const e=(0,m.qj)({isawait:!1,success:!0,msgError:"",msgSuccess:""}),s=(0,m.iH)(1);(0,t.bv)((()=>{x.splice(0,x.length)}));const a=(e="next")=>{"prev"===e?s.value--:s.value++},n=()=>y(void 0,void 0,void 0,(function*(){e.isawait=!0,yield q(),e.success=C.success,e.success?((0,b._)("Radar stop!"),x.sort(((e,s)=>e.exist===s.exist?0:s?-1:1)),a()):e.msgError=C.msgError,e.isawait=!1})),o=s=>y(void 0,void 0,void 0,(function*(){e.isawait=!0,yield _(s),e.success=C.success,e.success?(0,b._)(`${s.name} save!`):e.msgError=C.msgError,e.isawait=!1}));return{state:e,stepN:s,probeCams:x,navTabs:a,startRadar:n,saveCamProbe:o}},k=h,Z=(0,t.aZ)({name:"pSetup",setup(){const{stepN:e,probeCams:s,state:a,navTabs:t,startRadar:n,saveCamProbe:o}=k();return{stepN:e,startRadar:n,state:a,navTabs:t,probeCams:s,clickSave:o}}});var N=a(4379),W=a(6778),P=a(8430),z=a(151),S=a(5589),V=a(4554),E=a(3518),Q=a(6552),U=a(7050),O=a(4607),R=a(7011),j=a(429),T=a(2035),I=a(2350),A=a(4842),F=a(118),L=a(7518),M=a.n(L);Z.render=c;const D=Z;M()(Z,"components",{QPage:N.Z,QDialog:W.Z,QSpinnerPuff:P.Z,QCard:z.Z,QCardSection:S.Z,QIcon:V.Z,QStepper:E.Z,QStep:Q.Z,QResponsive:U.Z,QBtn:O.Z,QList:R.Z,QExpansionItem:j.Z,QItemSection:T.Z,QItemLabel:I.Z,QInput:A.Z,QStepperNavigation:F.Z})}}]);